<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¨Ø±Ø§Ø³ AI | Ø§ÙƒØªØ´Ù Ù…Ø³Ø§Ø±Ùƒ</title>
    <style>
        .progress-container { position: fixed; top: 0; left: 0; width: 100%; height: 6px; background: #e0e0e0; z-index: 1000; }
        .progress-bar { width: 0%; height: 100%; background: linear-gradient(to left, #4facfe 0%, #22acb4 100%); transition: width 0.3s ease; }
        
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background-color: #ebeef1; display: flex; justify-content: center; 
            align-items: center; height: 100vh; margin: 0; overflow: hidden;
        }

        .tinder-wrapper { 
            position: relative; 
            width: 320px; 
            height: 520px; 
            display: flex; 
            flex-direction: column; 
            align-items: center;
        }

        .card {
            width: 100%; 
            height: 450px; 
            background: white; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            position: absolute; top: 0; display: flex; flex-direction: column; 
            justify-content: center; align-items: center;
            text-align: center; padding: 20px; transition: transform 0.5s ease, opacity 0.5s ease;
            user-select: none; border: 2px solid #eee; cursor: grab; box-sizing: border-box; touch-action: none;
        }

        .hint {
            position: absolute;
            bottom: 15px; 
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 35px;
            box-sizing: border-box;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .journey-path { margin-top: 20px; display: flex; flex-direction: column; align-items: start; width: 100%; }
        .step { display: flex; align-items: center; gap: 15px; text-align: right; }
        .step-icon { width: 40px; height: 40px; background: #e0f7fa; border-radius: 12px; display: flex; justify-content: center; align-items: center; font-size: 1.2rem; }
        .step-content h4 { margin: 0; font-size: 0.9rem; color: #333; }
        .step-content p { margin: 2px 0 0; font-size: 0.7rem; color: #888; }
        .connector {
            width: 40px;
            height: 30px;
            border-left: 3px solid #22acb4;
            border-bottom: 3px solid #22acb4;
            border-radius: 0 0 0 20px;
            margin: 5px 0 5px 30px;
            opacity: 0.4;
        }
        .journey-path .step:nth-child(even) + .connector {
            border-left: none;
            border-right: 3px solid #22acb4;
            border-bottom: 3px solid #22acb4;
            border-radius: 0 0 20px 0;
            margin-left: 0;
            margin-right: 30px;
        }
        
        button { padding: 12px 20px; background: #22acb4; color: white; border: none; border-radius: 12px; cursor: pointer; margin-top: 20px; width: 100%; font-weight: bold; }
    </style>
</head>
<body>

    <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>

    <div class="tinder-wrapper" id="cardContainer">
        <div class="card" id="mainCard"></div>
        <div class="hint">
            <span style="color: #F44336;">â† Ù„Ø§</span>
            <span style="color: #4CAF50;">Ù†Ø¹Ù… â†’</span>
        </div>
    </div>

    <script>
        // Ù†ØµÙˆØµ Ø­ÙŠØ§Ø¯ÙŠØ© ØªÙ†Ø§Ø³Ø¨ Ø§Ù„Ø¬Ù…ÙŠØ¹
        const questions = [
            { text: "Ø¨Ø¯Ø¡ Ø±Ø­Ù„Ø© Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø´ØºÙØŸ Ø§Ø³Ø­Ø¨ Ù„Ù„ÙŠÙ…ÙŠÙ†!", icon: "ğŸš€", track: "start" },
            { text: "Ù‡Ù„ Ù‡Ù†Ø§Ùƒ Ø§Ø³ØªÙ…ØªØ§Ø¹ Ø¨ØªØµÙ…ÙŠÙ… Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù†ØŸ", icon: "ğŸ¨", track: "Frontend" },
            { text: "Ù‡Ù„ ÙŠØ³ØªÙ‡ÙˆÙŠÙƒ Ø­Ù„ Ø§Ù„Ø£Ù„ØºØ§Ø² ÙˆØ§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ù†Ø·Ù‚ØŸ", icon: "âš™ï¸", track: "Backend" },
            { text: "Ù‡Ù„ ÙŠØ´Ø¯Ùƒ Ø¨Ù†Ø§Ø¡ ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù„Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„Ø°ÙƒÙŠØ©ØŸ", icon: "ğŸ“±", track: "Mobile" },
            { text: "Ù‡Ù„ ÙŠØ«ÙŠØ± ÙØ¶ÙˆÙ„Ùƒ ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø¢Ù„Ø§Øª Ù„ØªØµØ¨Ø­ Ø°ÙƒÙŠØ©ØŸ", icon: "ğŸ¤–", track: "AI" }
        ];

        let currentQuestionIndex = 0;
        let scores = { Frontend: 0, Backend: 0, Mobile: 0, AI: 0 };
        const card = document.getElementById('mainCard');
        const container = document.getElementById('cardContainer');
        const progressBar = document.getElementById('progressBar');
        
        let startX = 0, currentX = 0, isDragging = false;

        function updateCard() {
            const progress = (currentQuestionIndex / (questions.length - 1)) * 100;
            progressBar.style.width = progress + "%";
            const q = questions[currentQuestionIndex];
            card.innerHTML = `<div class="icon">${q.icon}</div><h3>${q.text}</h3><p style="color:#888; font-size:0.8rem;">Ø³Ø­Ø¨ Ù„Ù„ÙŠÙ…ÙŠÙ† Ù„Ù„Ù…ÙˆØ§ÙÙ‚Ø© | Ù„Ù„ÙŠØ³Ø§Ø± Ù„Ù„Ø±ÙØ¶</p>`;
            card.style.transform = 'translateX(0px) rotate(0deg)';
        }

function showResult() {
    const bestTrack = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
    
    // 1. Ù‡Ù†Ø§ Ø£Ø¶ÙÙ†Ø§ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙˆØ§Ù„Ù…Ø¯Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© (Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø©)
    const journeys = {
        AI: { 
            title: "Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ", 
            steps: [
                ["ğŸ", "Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø¨Ø§ÙŠØ«ÙˆÙ†", "Ø£Ø³Ø¨ÙˆØ¹Ø§Ù†", "https://www.google.com/search?q=python+basics+course"],
                ["ğŸ“Š", "ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª", "Ø´Ù‡Ø±", "https://www.google.com/search?q=data+analysis+with+pandas"],
                ["ğŸ§ ", "Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡", "Ø´Ù‡Ø±ÙŠÙ†", "https://www.google.com/search?q=machine+learning+course"]
            ] 
        },
        Frontend: { 
            title: "ØªØ·ÙˆÙŠØ± ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹", 
            steps: [
                ["ğŸ¨", "HTML & CSS", "Ø£Ø³Ø¨ÙˆØ¹", "https://www.google.com/search?q=html+css+arabic+course"],
                ["âœ¨", "JavaScript", "3 Ø£Ø³Ø§Ø¨ÙŠØ¹", "https://www.google.com/search?q=javascript+course"],
                ["âš›ï¸", "Ø¥Ø·Ø§Ø± Ø¹Ù…Ù„ React", "Ø´Ù‡Ø±", "https://www.google.com/search?q=react+js+tutorial"]
            ] 
        }
        // ... Ø¨Ù‚ÙŠØ© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª ØªØªØ¨Ø¹ Ù†ÙØ³ Ø§Ù„Ù†Ù…Ø·
    };

    const track = journeys[bestTrack] || journeys.AI;
    document.querySelector('.hint').style.display = 'none';

    // 2. Ø¨Ù†Ø§Ø¡ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©: Ø£Ø¶ÙÙ†Ø§ onclick Ù„Ù„Ø±ÙˆØ§Ø¨Ø· Ùˆ "Ø´Ø§Ø±Ø©" Ù„Ù„Ù…Ø¯Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©
    container.innerHTML = `
        <div class="card" id="final-card" style="height:auto; position:relative; padding:25px; opacity:1;">
            <h3 style="color:#22acb4; margin:0">Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ù‚ØªØ±Ø­ Ù‡Ùˆ</h3>
            <h2 style="margin:5px 0 20px 0">${track.title}</h2>
            
            <div class="journey-path">
                ${track.steps.map((s, i) => `
                    <div class="step" onclick="window.open('${s[3]}', '_blank')" style="cursor:pointer; width:100%">
                        <div class="step-icon">${s[0]}</div>
                        <div class="step-content">
                            <h4 style="display:flex; justify-content:space-between;">
                                Ø§Ù„Ù…Ø­Ø·Ø© ${i+1} 
                                <span style="font-size:0.6rem; background:#eee; padding:2px 6px; border-radius:10px;">${s[2]}</span>
                            </h4>
                            <p>${s[1]} <span style="color:#22acb4; font-size:0.6rem;">(Ø§Ù†Ù‚Ø± Ù„Ù„ØªØ¹Ù„Ù… ğŸ”—)</span></p>
                        </div>
                    </div>
                    ${i < track.steps.length - 1 ? '<div class="connector"></div>' : ''}
                `).join('')}
            </div>

            <div style="display:flex; gap:10px; width:100%">
                <button onclick="window.print()" style="background:#6c757d; font-size:0.8rem;">Ø­ÙØ¸ Ø§Ù„Ø®Ø±ÙŠØ·Ø© (PDF)</button>
                <button onclick="location.reload()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
            </div>
            <p style="font-size:0.6rem; color:#999; margin-top:10px;">ğŸ† ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ù„Ù‚Ø¯ Ø±Ø³Ù…ØªÙ Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</p>
        </div>
    `;
}

        function startDrag(e) { isDragging = true; startX = e.clientX || e.touches[0].clientX; card.style.transition = 'none'; }
        function moveDrag(e) {
            if (!isDragging) return;
            currentX = e.clientX || (e.touches ? e.touches[0].clientX : 0);
            const deltaX = currentX - startX;
            card.style.transform = `translateX(${deltaX}px) rotate(${deltaX / 10}deg)`;
        }
        function endDrag() {
            if (!isDragging) return;
            isDragging = false;
            const deltaX = currentX - startX;
            if (Math.abs(deltaX) > 100) {
                if (currentQuestionIndex === 0 && deltaX < 0) {
                    container.innerHTML = `<div class="card" style="position:relative; opacity:1;"><h3>Ø¥Ù„Ù‰ Ø§Ù„Ù„Ù‚Ø§Ø¡! ğŸ‘‹</h3><button onclick="location.reload()">Ø§Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø¬Ø¯ÙŠØ¯</button></div>`;
                    document.querySelector('.hint').style.display = 'none';
                    return;
                }
                if (currentQuestionIndex > 0 && deltaX > 0) scores[questions[currentQuestionIndex].track]++;
                currentQuestionIndex++;
                setTimeout(() => {
                    currentQuestionIndex < questions.length ? updateCard() : showResult();
                }, 200);
            } else {
                card.style.transition = 'transform 0.5s ease';
                card.style.transform = 'translateX(0px) rotate(0deg)';
            }
        }

        card.addEventListener('mousedown', startDrag); card.addEventListener('touchstart', startDrag);
        window.addEventListener('mousemove', moveDrag); window.addEventListener('touchmove', moveDrag);
        window.addEventListener('mouseup', endDrag); window.addEventListener('touchend', endDrag);

        updateCard();
    </script>
</body>
</html>